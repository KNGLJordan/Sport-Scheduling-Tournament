; Tournament scheduling - Optimization problem 3
; n=8, weeks=7, periods=4

(set-option :produce-models true)
(set-option :timeout 300000)
(set-logic QF_LIA)

; Match variables
(declare-fun M_0_1 () Int)
(declare-fun P_0_1 () Int)
(declare-fun H_0_1 () Bool)
(declare-fun M_0_2 () Int)
(declare-fun P_0_2 () Int)
(declare-fun H_0_2 () Bool)
(declare-fun M_0_3 () Int)
(declare-fun P_0_3 () Int)
(declare-fun H_0_3 () Bool)
(declare-fun M_0_4 () Int)
(declare-fun P_0_4 () Int)
(declare-fun H_0_4 () Bool)
(declare-fun M_0_5 () Int)
(declare-fun P_0_5 () Int)
(declare-fun H_0_5 () Bool)
(declare-fun M_0_6 () Int)
(declare-fun P_0_6 () Int)
(declare-fun H_0_6 () Bool)
(declare-fun M_0_7 () Int)
(declare-fun P_0_7 () Int)
(declare-fun H_0_7 () Bool)
(declare-fun M_1_0 () Int)
(declare-fun P_1_0 () Int)
(declare-fun H_1_0 () Bool)
(declare-fun M_1_2 () Int)
(declare-fun P_1_2 () Int)
(declare-fun H_1_2 () Bool)
(declare-fun M_1_3 () Int)
(declare-fun P_1_3 () Int)
(declare-fun H_1_3 () Bool)
(declare-fun M_1_4 () Int)
(declare-fun P_1_4 () Int)
(declare-fun H_1_4 () Bool)
(declare-fun M_1_5 () Int)
(declare-fun P_1_5 () Int)
(declare-fun H_1_5 () Bool)
(declare-fun M_1_6 () Int)
(declare-fun P_1_6 () Int)
(declare-fun H_1_6 () Bool)
(declare-fun M_1_7 () Int)
(declare-fun P_1_7 () Int)
(declare-fun H_1_7 () Bool)
(declare-fun M_2_0 () Int)
(declare-fun P_2_0 () Int)
(declare-fun H_2_0 () Bool)
(declare-fun M_2_1 () Int)
(declare-fun P_2_1 () Int)
(declare-fun H_2_1 () Bool)
(declare-fun M_2_3 () Int)
(declare-fun P_2_3 () Int)
(declare-fun H_2_3 () Bool)
(declare-fun M_2_4 () Int)
(declare-fun P_2_4 () Int)
(declare-fun H_2_4 () Bool)
(declare-fun M_2_5 () Int)
(declare-fun P_2_5 () Int)
(declare-fun H_2_5 () Bool)
(declare-fun M_2_6 () Int)
(declare-fun P_2_6 () Int)
(declare-fun H_2_6 () Bool)
(declare-fun M_2_7 () Int)
(declare-fun P_2_7 () Int)
(declare-fun H_2_7 () Bool)
(declare-fun M_3_0 () Int)
(declare-fun P_3_0 () Int)
(declare-fun H_3_0 () Bool)
(declare-fun M_3_1 () Int)
(declare-fun P_3_1 () Int)
(declare-fun H_3_1 () Bool)
(declare-fun M_3_2 () Int)
(declare-fun P_3_2 () Int)
(declare-fun H_3_2 () Bool)
(declare-fun M_3_4 () Int)
(declare-fun P_3_4 () Int)
(declare-fun H_3_4 () Bool)
(declare-fun M_3_5 () Int)
(declare-fun P_3_5 () Int)
(declare-fun H_3_5 () Bool)
(declare-fun M_3_6 () Int)
(declare-fun P_3_6 () Int)
(declare-fun H_3_6 () Bool)
(declare-fun M_3_7 () Int)
(declare-fun P_3_7 () Int)
(declare-fun H_3_7 () Bool)
(declare-fun M_4_0 () Int)
(declare-fun P_4_0 () Int)
(declare-fun H_4_0 () Bool)
(declare-fun M_4_1 () Int)
(declare-fun P_4_1 () Int)
(declare-fun H_4_1 () Bool)
(declare-fun M_4_2 () Int)
(declare-fun P_4_2 () Int)
(declare-fun H_4_2 () Bool)
(declare-fun M_4_3 () Int)
(declare-fun P_4_3 () Int)
(declare-fun H_4_3 () Bool)
(declare-fun M_4_5 () Int)
(declare-fun P_4_5 () Int)
(declare-fun H_4_5 () Bool)
(declare-fun M_4_6 () Int)
(declare-fun P_4_6 () Int)
(declare-fun H_4_6 () Bool)
(declare-fun M_4_7 () Int)
(declare-fun P_4_7 () Int)
(declare-fun H_4_7 () Bool)
(declare-fun M_5_0 () Int)
(declare-fun P_5_0 () Int)
(declare-fun H_5_0 () Bool)
(declare-fun M_5_1 () Int)
(declare-fun P_5_1 () Int)
(declare-fun H_5_1 () Bool)
(declare-fun M_5_2 () Int)
(declare-fun P_5_2 () Int)
(declare-fun H_5_2 () Bool)
(declare-fun M_5_3 () Int)
(declare-fun P_5_3 () Int)
(declare-fun H_5_3 () Bool)
(declare-fun M_5_4 () Int)
(declare-fun P_5_4 () Int)
(declare-fun H_5_4 () Bool)
(declare-fun M_5_6 () Int)
(declare-fun P_5_6 () Int)
(declare-fun H_5_6 () Bool)
(declare-fun M_5_7 () Int)
(declare-fun P_5_7 () Int)
(declare-fun H_5_7 () Bool)
(declare-fun M_6_0 () Int)
(declare-fun P_6_0 () Int)
(declare-fun H_6_0 () Bool)
(declare-fun M_6_1 () Int)
(declare-fun P_6_1 () Int)
(declare-fun H_6_1 () Bool)
(declare-fun M_6_2 () Int)
(declare-fun P_6_2 () Int)
(declare-fun H_6_2 () Bool)
(declare-fun M_6_3 () Int)
(declare-fun P_6_3 () Int)
(declare-fun H_6_3 () Bool)
(declare-fun M_6_4 () Int)
(declare-fun P_6_4 () Int)
(declare-fun H_6_4 () Bool)
(declare-fun M_6_5 () Int)
(declare-fun P_6_5 () Int)
(declare-fun H_6_5 () Bool)
(declare-fun M_6_7 () Int)
(declare-fun P_6_7 () Int)
(declare-fun H_6_7 () Bool)
(declare-fun M_7_0 () Int)
(declare-fun P_7_0 () Int)
(declare-fun H_7_0 () Bool)
(declare-fun M_7_1 () Int)
(declare-fun P_7_1 () Int)
(declare-fun H_7_1 () Bool)
(declare-fun M_7_2 () Int)
(declare-fun P_7_2 () Int)
(declare-fun H_7_2 () Bool)
(declare-fun M_7_3 () Int)
(declare-fun P_7_3 () Int)
(declare-fun H_7_3 () Bool)
(declare-fun M_7_4 () Int)
(declare-fun P_7_4 () Int)
(declare-fun H_7_4 () Bool)
(declare-fun M_7_5 () Int)
(declare-fun P_7_5 () Int)
(declare-fun H_7_5 () Bool)
(declare-fun M_7_6 () Int)
(declare-fun P_7_6 () Int)
(declare-fun H_7_6 () Bool)

; Objective variables
(declare-fun home_count_0 () Int)
(declare-fun balance_0 () Int)
(declare-fun abs_balance_0 () Int)
(declare-fun home_count_1 () Int)
(declare-fun balance_1 () Int)
(declare-fun abs_balance_1 () Int)
(declare-fun home_count_2 () Int)
(declare-fun balance_2 () Int)
(declare-fun abs_balance_2 () Int)
(declare-fun home_count_3 () Int)
(declare-fun balance_3 () Int)
(declare-fun abs_balance_3 () Int)
(declare-fun home_count_4 () Int)
(declare-fun balance_4 () Int)
(declare-fun abs_balance_4 () Int)
(declare-fun home_count_5 () Int)
(declare-fun balance_5 () Int)
(declare-fun abs_balance_5 () Int)
(declare-fun home_count_6 () Int)
(declare-fun balance_6 () Int)
(declare-fun abs_balance_6 () Int)
(declare-fun home_count_7 () Int)
(declare-fun balance_7 () Int)
(declare-fun abs_balance_7 () Int)
(declare-fun max_abs_balance () Int)

; Objective constraints
(assert (= home_count_0 (+ (ite H_0_1 1 0) (ite H_0_2 1 0) (ite H_0_3 1 0) (ite H_0_4 1 0) (ite H_0_5 1 0) (ite H_0_6 1 0) (ite H_0_7 1 0))))
(assert (= balance_0 (- (* 2 home_count_0) 7)))
(assert (>= abs_balance_0 balance_0))
(assert (>= abs_balance_0 (- balance_0)))
(assert (= home_count_1 (+ (ite H_1_0 1 0) (ite H_1_2 1 0) (ite H_1_3 1 0) (ite H_1_4 1 0) (ite H_1_5 1 0) (ite H_1_6 1 0) (ite H_1_7 1 0))))
(assert (= balance_1 (- (* 2 home_count_1) 7)))
(assert (>= abs_balance_1 balance_1))
(assert (>= abs_balance_1 (- balance_1)))
(assert (= home_count_2 (+ (ite H_2_0 1 0) (ite H_2_1 1 0) (ite H_2_3 1 0) (ite H_2_4 1 0) (ite H_2_5 1 0) (ite H_2_6 1 0) (ite H_2_7 1 0))))
(assert (= balance_2 (- (* 2 home_count_2) 7)))
(assert (>= abs_balance_2 balance_2))
(assert (>= abs_balance_2 (- balance_2)))
(assert (= home_count_3 (+ (ite H_3_0 1 0) (ite H_3_1 1 0) (ite H_3_2 1 0) (ite H_3_4 1 0) (ite H_3_5 1 0) (ite H_3_6 1 0) (ite H_3_7 1 0))))
(assert (= balance_3 (- (* 2 home_count_3) 7)))
(assert (>= abs_balance_3 balance_3))
(assert (>= abs_balance_3 (- balance_3)))
(assert (= home_count_4 (+ (ite H_4_0 1 0) (ite H_4_1 1 0) (ite H_4_2 1 0) (ite H_4_3 1 0) (ite H_4_5 1 0) (ite H_4_6 1 0) (ite H_4_7 1 0))))
(assert (= balance_4 (- (* 2 home_count_4) 7)))
(assert (>= abs_balance_4 balance_4))
(assert (>= abs_balance_4 (- balance_4)))
(assert (= home_count_5 (+ (ite H_5_0 1 0) (ite H_5_1 1 0) (ite H_5_2 1 0) (ite H_5_3 1 0) (ite H_5_4 1 0) (ite H_5_6 1 0) (ite H_5_7 1 0))))
(assert (= balance_5 (- (* 2 home_count_5) 7)))
(assert (>= abs_balance_5 balance_5))
(assert (>= abs_balance_5 (- balance_5)))
(assert (= home_count_6 (+ (ite H_6_0 1 0) (ite H_6_1 1 0) (ite H_6_2 1 0) (ite H_6_3 1 0) (ite H_6_4 1 0) (ite H_6_5 1 0) (ite H_6_7 1 0))))
(assert (= balance_6 (- (* 2 home_count_6) 7)))
(assert (>= abs_balance_6 balance_6))
(assert (>= abs_balance_6 (- balance_6)))
(assert (= home_count_7 (+ (ite H_7_0 1 0) (ite H_7_1 1 0) (ite H_7_2 1 0) (ite H_7_3 1 0) (ite H_7_4 1 0) (ite H_7_5 1 0) (ite H_7_6 1 0))))
(assert (= balance_7 (- (* 2 home_count_7) 7)))
(assert (>= abs_balance_7 balance_7))
(assert (>= abs_balance_7 (- balance_7)))
(assert (>= max_abs_balance 0))
(assert (>= max_abs_balance abs_balance_0))
(assert (>= max_abs_balance abs_balance_1))
(assert (>= max_abs_balance abs_balance_2))
(assert (>= max_abs_balance abs_balance_3))
(assert (>= max_abs_balance abs_balance_4))
(assert (>= max_abs_balance abs_balance_5))
(assert (>= max_abs_balance abs_balance_6))
(assert (>= max_abs_balance abs_balance_7))

(exit)